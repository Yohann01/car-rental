<!-- Catalog Container -->
<section class="catalog-section">
    <div class="catalog-container">
    
        <div class="filter-container">
            <form id="filter" method="GET">
            <div class="title filters">
                <h4 class="search-filter-title"><i class='bx bxs-filter-alt' ></i>Search Filters</h4>
            </div>
    
            <div class="car-type filters">
                <h4>Car Type</h4>
                <label class="mcui-checkbox">
                    <input type="checkbox" id="suvCheckbox" value="SUV" <%= query.carType.includes('SUV') ? 'checked' : '' %> name="carTypeFilter">
                    <div>
                    <svg class="mcui-check" viewBox="-2 -2 35 35" aria-hidden="true">
                        <title>checkmark-circle</title>
                        <polyline points="7.57 15.87 12.62 21.07 23.43 9.93" />
                    </svg>
                    </div>
                    <div>SUV</div>
                </label>
                
                <label class="mcui-checkbox">
                    <input type="checkbox" id="sedanCheckbox" value="Sedan" <%= query.carType.includes('Sedan') ? 'checked' : '' %> name="carTypeFilter" >
                    <div>
                    <svg class="mcui-check" viewBox="-2 -2 35 35" aria-hidden="true">
                        <title>checkmark-circle</title>
                        <polyline points="7.57 15.87 12.62 21.07 23.43 9.93" />
                    </svg>
                    </div>
                    <div>Sedan</div>
                </label>              
            </div>
    
            <div class="capacity filters">
                <h4>Capacity</h4>
                <label class="mcui-checkbox">
                    <input type="checkbox" checked>
                    <div>
                    <svg class="mcui-check" viewBox="-2 -2 35 35" aria-hidden="true">
                        <title>checkmark-circle</title>
                        <polyline points="7.57 15.87 12.62 21.07 23.43 9.93" />
                    </svg>
                    </div>
                    <div>3 to 5 passengers</div>
                </label> 
                <label class="mcui-checkbox">
                    <input type="checkbox" checked>
                    <div>
                    <svg class="mcui-check" viewBox="-2 -2 35 35" aria-hidden="true">
                        <title>checkmark-circle</title>
                        <polyline points="7.57 15.87 12.62 21.07 23.43 9.93" />
                    </svg>
                    </div>
                    <div>6 or more</div>
                </label> 
            </div>
    
            <div class="car-options filters">
                <h4>Car Options</h4>
                <label class="mcui-checkbox">
                    <input type="checkbox" checked>
                    <div>
                    <svg class="mcui-check" viewBox="-2 -2 35 35" aria-hidden="true">
                        <title>checkmark-circle</title>
                        <polyline points="7.57 15.87 12.62 21.07 23.43 9.93" />
                    </svg>
                    </div>
                    <div>4+ doors</div>
                </label> 
                <label class="mcui-checkbox">
                    <input type="checkbox" checked>
                    <div>
                    <svg class="mcui-check" viewBox="-2 -2 35 35" aria-hidden="true">
                        <title>checkmark-circle</title>
                        <polyline points="7.57 15.87 12.62 21.07 23.43 9.93" />
                    </svg>
                    </div>
                    <div>A/C</div>
                </label> 
                <label class="mcui-checkbox">
                    <input type="checkbox" checked>
                    <div>
                    <svg class="mcui-check" viewBox="-2 -2 35 35" aria-hidden="true">
                        <title>checkmark-circle</title>
                        <polyline points="7.57 15.87 12.62 21.07 23.43 9.93" />
                    </svg>
                    </div>
                    <div>Automaic</div>
                </label> 
                <button type="submit">Show Results</button>
            </div>
            </form>
        </div>
    
        <div class="cars-catalog-container">
            <h4 class="results-text"><%= dataCount %> result(s)</h4>

            <% cars.forEach(function(car, index) { %>
            <div class="items">
                <div class="card-photo">
                    <img src="<%= car.img %>" alt="">
                </div>
                <div class="card-content">
                    <div class="text">
                        <span class="item-name"> <%= car.name %><img src="/assets/png-icons/info.png" alt=""></span>
                        <p class="sub-text">or similar <%= car.carType %></p>
                        <div class="specs-list-container">
                            <p class="specs"><img src="/assets/png-icons/user.png" alt=""><%= car.capacity %></p>
                            <p class="specs"><img src="/assets/png-icons/briefcase.png" alt=""><%= car.bag %></p>
                            <p class="specs"><img src="/assets/png-icons/car-door.png" alt=""><%= car.doors %></p>
                            <p class="specs"><img src="/assets/png-icons/gearbox.png" alt=""><%= car.transmission %></p>
                            <p class="specs"><img src="/assets/png-icons/snowflake.png" alt="">
                                <% if(car.ac == true){ %>
                                    A/C
                                <% } else { %>
                                    None
                                <%  } %>
                                </p>
                        </div>
                        <div class="locations">
                            <div class="pick-up">
                                <p><img src="/assets/png-icons/building.png" alt=""><%= car.pickUpLocation %></p>
                            </div>
                            <div class="drop-off">
                                <p><img src="/assets/png-icons/building.png" alt=""><%= car.dropOffLocation%></p>
                            </div> 
                        </div>
                        <div class="line-horizontal"></div><!-- Line only -->
                        <div class="tooltips">
                            <div class="tooltip left">
                                <p class="tooltip sub-text"><i class='bx bx-check'></i>Free cancellation (48h)</p>
                                <p class="tooltip sub-text"><i class='bx bx-check'></i>Fuel policy: same-to-same</p>
                                <p class="tooltip sub-text"><i class='bx bx-check'></i>Unlimited mileage included</p>
                            </div>
                            <div class="tooltip right">
                                <p class="tooltip sub-text"><i class='bx bx-check'></i>Collision damage waiver</p>
                                <p class="tooltip sub-text"><i class='bx bx-check'></i>Third party coverage</p>
                                <p class="tooltip sub-text"><i class='bx bx-check'></i>Theft protection waiver</p>
                            </div>
                        </div>
                    </div>

                    

                    <div class="line-vertical"></div><!-- Line only -->
                    <div class="total-book">
                        <div class="price">
                            <span id="formattedPrice"> <%= car.totalCarRentalPrice %> </span>
                            <p class="sub-text">Total</p>
                        </div>
                        <a href="/catalog/book/<%= car._id %>" type="button">Book Now</a>
                    </div>
                </div>
            </div>
            <% }) %>

            
            <div class="booking-container">
                <div class="column" id="book-col-1">
                    <h1 class="title">Book a car</h1>
                    <form id="bookingForm" action="/catalog/cars">
                        <!-- Select Car Type -->
                        <h4>
                            <span class="svg-container">
                                <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24">
                                    <path d="M240-200v40q0 17-11.5 28.5T200-120h-40q-17 0-28.5-11.5T120-160v-320l84-240q6-18 21.5-29t34.5-11h440q19 0 34.5 11t21.5 29l84 240v320q0 17-11.5 28.5T800-120h-40q-17 0-28.5-11.5T720-160v-40H240Zm-8-360h496l-42-120H274l-42 120Zm68 240q25 0 42.5-17.5T360-380q0-25-17.5-42.5T300-440q-25 0-42.5 17.5T240-380q0 25 17.5 42.5T300-320Zm360 0q25 0 42.5-17.5T720-380q0-25-17.5-42.5T660-440q-25 0-42.5 17.5T600-380q0 25 17.5 42.5T660-320Z"/></svg>
                            </span>
                            Select your car type
                            <span>*</span>
                        </h4>
                        <select id="carType" name="carType">
                            <option value="default" <%= query.carType === "" ? 'selected' : '' %>>Select Car type</option>
                            <option value="Sedan"<%= query.carType === "Sedan" ? 'selected' : '' %>>Sedan</option>
                            <option value="SUV"<%= query.carType === "SUV" ? 'selected' : '' %>>SUV</option>
                        </select>
                        
                        <!-- Pick Up date -->
                        <br>
                        <br>
                        <h4>
                            <span class="svg-container">
                                <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24">
                                <path d="M480-400q-17 0-28.5-11.5T440-440q0-17 11.5-28.5T480-480q17 0 28.5 11.5T520-440q0 17-11.5 28.5T480-400Zm-160 0q-17 0-28.5-11.5T280-440q0-17 11.5-28.5T320-480q17 0 28.5 11.5T360-440q0 17-11.5 28.5T320-400Zm320 0q-17 0-28.5-11.5T600-440q0-17 11.5-28.5T640-480q17 0 28.5 11.5T680-440q0 17-11.5 28.5T640-400ZM480-240q-17 0-28.5-11.5T440-280q0-17 11.5-28.5T480-320q17 0 28.5 11.5T520-280q0 17-11.5 28.5T480-240Zm-160 0q-17 0-28.5-11.5T280-280q0-17 11.5-28.5T320-320q17 0 28.5 11.5T360-280q0 17-11.5 28.5T320-240Zm320 0q-17 0-28.5-11.5T600-280q0-17 11.5-28.5T640-320q17 0 28.5 11.5T680-280q0 17-11.5 28.5T640-240ZM200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Z"/></svg>
                            </span>
                            Pick up date
                            <span>*</span>
                        </h4>
                        <input type="date" id="pickupDate" name="pickUpDate" value="<%= query.pickUpDate || '' %>">
                    </div>
        
                    <!-- Column 2 -->
                    <div class="column" id="book-col-2">
                        <!-- Select Pick Up Location -->
                        <h4>
                            <span class="svg-container">
                                <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24">
                                <path d="M480-480q33 0 56.5-23.5T560-560q0-33-23.5-56.5T480-640q-33 0-56.5 23.5T400-560q0 33 23.5 56.5T480-480Zm0 400Q319-217 239.5-334.5T160-552q0-150 96.5-239T480-880q127 0 223.5 89T800-552q0 100-79.5 217.5T480-80Z"/></svg>
                            </span>
                            Pick up location
                            <span>*</span>
                        </h4>
                        <select id="pickupLocation" name="pickUpLocationCity">
                            <option value="default"<%= query.dropOffLocationCity === "" ? 'selected' : '' %>>Select pick up location</option>
                            <option value="Manila"<%= query.pickUpLocationCity === "Manila" ? 'selected' : '' %>>Manila</option>
                            <option value="Quezon City"<%= query.pickUpLocationCity === "Quezon City" ? 'selected' : '' %>>Quezon City</option>
                            <option value="Pampanga City"<%= query.pickUpLocationCity === "Pampanga City" ? 'selected' : '' %>>Pampanga City</option>
                            <option value="Batangas City"<%= query.pickUpLocationCity === "Batangas City" ? 'selected' : '' %>>Batangas City</option>
                            <option value="Baguio City"<%= query.pickUpLocationCity === "Baguio City" ? 'selected' : '' %>>Baguio City</option>
                        </select>
        
                        <!-- Drop off date -->
                        <br>
                        <br>
                        <h4>
                            <span class="svg-container">
                                <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24">
                                <path d="M480-400q-17 0-28.5-11.5T440-440q0-17 11.5-28.5T480-480q17 0 28.5 11.5T520-440q0 17-11.5 28.5T480-400Zm-160 0q-17 0-28.5-11.5T280-440q0-17 11.5-28.5T320-480q17 0 28.5 11.5T360-440q0 17-11.5 28.5T320-400Zm320 0q-17 0-28.5-11.5T600-440q0-17 11.5-28.5T640-480q17 0 28.5 11.5T680-440q0 17-11.5 28.5T640-400ZM480-240q-17 0-28.5-11.5T440-280q0-17 11.5-28.5T480-320q17 0 28.5 11.5T520-280q0 17-11.5 28.5T480-240Zm-160 0q-17 0-28.5-11.5T280-280q0-17 11.5-28.5T320-320q17 0 28.5 11.5T360-280q0 17-11.5 28.5T320-240Zm320 0q-17 0-28.5-11.5T600-280q0-17 11.5-28.5T640-320q17 0 28.5 11.5T680-280q0 17-11.5 28.5T640-240ZM200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Z"/></svg>
                            </span>
                            Drop off date
                            <span>*</span>
                        </h4>
                        <input type="date" id="dropoffDate" name="dropOffDate" value="<%= query.dropOffDate || '' %>">
                    </div>
        
                    <!-- Column 3 -->
                    <div class="column" id="book-col-3">
                        <!-- Select Drop Off Location -->
                        <h4>
                            <span class="svg-container">
                                <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24">
                                <path d="M480-480q33 0 56.5-23.5T560-560q0-33-23.5-56.5T480-640q-33 0-56.5 23.5T400-560q0 33 23.5 56.5T480-480Zm0 400Q319-217 239.5-334.5T160-552q0-150 96.5-239T480-880q127 0 223.5 89T800-552q0 100-79.5 217.5T480-80Z"/></svg>
                            </span>
                            Drop off locatio
                            <span>*</span>
                        </h4>
                        <select id="dropoffLocation" name="dropOffLocationCity">
                            <option value="default"<%= query.dropOffLocationCity === "" ? 'selected' : '' %>>Select pick up location</option>
                            <option value="Manila"<%= query.dropOffLocationCity === "Manila" ? 'selected' : '' %>>Manila</option>
                            <option value="Quezon City"<%= query.dropOffLocationCity === "Quezon City" ? 'selected' : '' %>>Quezon City</option>
                            <option value="Pampanga City"<%= query.dropOffLocationCity === "Pampanga City" ? 'selected' : '' %>>Pampanga City</option>
                            <option value="Batangas City"<%= query.dropOffLocationCity === "Batangas City" ? 'selected' : '' %>>Batangas City</option>
                            <option value="Baguio City"<%= query.dropOffLocationCity === "Baguio City" ? 'selected' : '' %>>Baguio City</option>
                        </select>  
                        
                        <!-- Search Button -->
                        <button type="submit" class="search-btn">
                            Search
                        </button>
                    </div>
                </form>
            </div>
        </div>
        </div>
        

        
</section>
<script src="/js/catalogScript.js">
</script>